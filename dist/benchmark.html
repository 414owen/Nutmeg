<!DOCTYPE html>
<html>
<head>
<title>Nutmeg</title>
<script async src="https://use.fontawesome.com/2926a1b865.js"></script>
<link async href="https://fonts.googleapis.com/css?family=Raleway:300" rel="stylesheet" type="text/css">
<script src="nutmeg.js"></script>
<script>

nutmeg().global();
window.onload = function() {
    var timeTaken = 0;
    var timesToLoad = 50;
    for (var i = 0; i < timesToLoad; i++) {
        var startTime = Date.now();
        var curr = 1;
        var prev = 0;
        body().style(style.base)(
            Array(1500).fill(0).map(function (fib, ind) {
                var oldc = curr, oldp = prev;
                curr += prev;
                prev = oldc;
                return div(oldp).style(style.fib);
            })
        );
        timeTaken += Date.now() - startTime;
        if (i < timesToLoad - 1) 
            body().clear();
    }
    console.log("Page loaded", timesToLoad, "times.");
    console.log("Average load time:", timeTaken / timesToLoad, "ms.");
};

var style = mergeStyle({
    base: {
        backgroundColor: '#111'
    },
    spaced: {
        margin: '0.5rem',
        padding: '0.5rem'
    },
    bordered: {
        borderRadius: '8px'
    },
    fib: {
        depends: ['spaced', 'bordered'],
        display: 'inline-block',
        backgroundColor: '#333',
        color: '#eee'
    }
});

</script>
<link rel="icon" type="image/png" sizes="32x32" href="http://owenowen.netsoc.ie/res/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="http://owenowen.netsoc.ie/res/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="http://owenowen.netsoc.ie/res/favicon-16x16.png">
</head>

<body>
</body>

</html>
