/**
 * @license
 * Copyright (c) 2016 Owen Shepherd
 * This software is open-source under the MIT license.
 * The full license can be viewed here: https://opensource.org/licenses/MIT
 *
 */
/**
  * @preserve
  * This is Nutmeg. a tiny client-side website generator.
  * Homepage: https://github.com/414owen/Nutmeg
  *
  */
function nutmeg(n){function t(n,t,o){n[o[1]](function(){e(n,t[o[0]])}),n[o[2]](function(){var i=n.val.style;t[o[0]].forEach(function(o){for(var r in o)i[r]="";e(n,t.base)})})}function e(n,o){if(void 0===o.length)if(void 0!==o.base)e(n,o.base),b.forEach(function(e){0!==o[e[0]].length&&t(n,o,e)});else{var i=n.val.style;for(var r in o)i[r]=o[r]}else for(var a=0;a<o.length;a++)e(n,o[a])}function o(n,t){switch(typeof t){case"function":n.appendChild(t.val);break;case"string":var e=c.createTextNode(t);n.appendChild(e);break;case"object":for(var i=0;i<t.length;i++)o(n,t[i]);break;default:o(n,t.toString())}}function i(n,t){if("string"==typeof t)n.classList.add(t);else for(var e=0;e<t.length;e++)i(n,t[e])}function r(){for(var n in this)this[n]()}function a(n){return m.forEach(function(t){n[t[0]]=function(){return n()[t[0]].apply(null,arguments)}}),n}var c=document,u=window,f={};f.elify=function(n){var t=function(){return t.append(arguments),t};t.val=n;var e=t.events={};return v.forEach(function(t){var o=t[0];e[o]={},n[o]=r.bind(e[o])}),t.privateID=0,m.forEach(function(n){t[n[0]]=function(){return n[1].apply(t,arguments),t}}),t};var l=["a","audio","b","br","button","canvas","datalist","div","em","footer","form","h1","h2","h3","h4","h5","h6","header","hr","i","input","item","label","li","menu","menuitem","meter","nav","noscript","ol","p","pre","progress","script","select","span","strong","table","tbody","td","textarea","tfoot","th","thead","tr","ul","video","canvas"],s=[["append",function(){o(this.val,arguments)}],["link",function(){this.style({cursor:"pointer"}),this.onclick(function(){window.location=url})}],["style",function(){e(this,arguments)}],["class",function(){i(this.val,arguments)}],["attr",function(n,t){elem.setAttribute(n,t)}],["prop",function(n,t){this.val[n]=t}],["clear",function(){for(var n=this.val;n.firstChild;)n.removeChild(n.firstChild)}]],d=["alt","contenteditable","href","id","readonly","src","title","type","placeholder"].map(function(n){return[n,function(n){this.val.setAttribute(n)}]}),h=["checked","disabled","height","selected","value","width"].map(function(n){return[n,function(t){this.val[n]=t}]}),v=["onactivate","onblur","onchange","onclick","ondblclick","ondeactivate","onfocus","onkeydown","onkeyup","onmousedown","onmouseout","onmouseover","onmouseup"].map(function(n){return[n,function(t,e){void 0===e&&(e="_priv_"+this.privateID++),this.events[n][e]=t}]}),p=v.map(function(n){var t=v[0];return["rem"+t,function(n){delete this.events[t][n]}]}),b=[["hover",11,10],["focus",6,1],["active",0,5]].map(function(n){return[n[0],v[n[1]][0],v[n[2]][0]]}),m=v.concat(p,h,d,s);return f.body=a(function(){return f.elify(c.body).append(arguments)}),l.forEach(function(n){f[n]=a(function(){return f.elify(c.createElement(n)).append(arguments)})}),f.mergeStyle=function(n){function t(e,o){void 0!==e.depends&&e.depends.forEach(function(e){t(n[e],"base")}),b.forEach(function(o){var r=o[0];void 0!==e[r]&&(void 0!==e[r].depends&&e[r].depends.forEach(function(e){t(n[e],r)}),i[r].push(e[r]))}),i[o].push(e)}var e={};for(var o in n){var i={base:[]};b.forEach(function(n){i[n[0]]=[]}),t(n[o],"base"),e[o]=i}return e},f.bind=function(n){Object.keys(f).forEach(function(t){n[t]=f[t]})},f.global=function(){f.bind(u)},void 0!==n&&(f.global(),window.onload=n),f}