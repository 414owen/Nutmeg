/**
 * @license
 * Copyright (c) 2016 Owen Shepherd
 * This software is open-source under the MIT license.
 * The full license can be viewed here: https://opensource.org/licenses/MIT
 *
 */
/**
  * @preserve
  * This is Nutmeg. a tiny client-side website generator.
  * Homepage: https://github.com/414owen/Nutmeg
  *
  */
function nutmeg(n){function t(n,t,o){n[o[1]](function(){e(n,t[o[0]])}),n[o[2]](function(){var i=n.val.style;t[o[0]].forEach(function(o){for(var r in o)i[r]="";e(n,t.base)})})}function e(n,o){if(void 0===o.length)if(void 0!==o.base)e(n,o.base),v.forEach(function(e){0!==o[e[0]].length&&t(n,o,e)});else{var i=n.val.style;for(var r in o)i[r]=o[r]}else for(var a=0;a<o.length;a++)e(n,o[a])}function o(n,t){switch(typeof t){case"function":n.appendChild(t.val);break;case"string":var e=a.createTextNode(t);n.appendChild(e);break;case"object":for(var i=0;i<t.length;i++)o(n,t[i]);break;default:o(n,t.toString())}}function i(n,t){if("string"==typeof t)n.classList.add(t);else for(var e=0;e<t.length;e++)i(n,t[e])}function r(n){return p.forEach(function(t){n[t[0]]=function(){return n()[t[0]].apply(null,arguments)}}),n}var a=document,c=window,u={};u.elify=function(n){var t=function(){return t.append(arguments),t};return t.events={},t.privateID=0,p.forEach(function(n){t[n[0]]=function(){return n[1].apply(t,arguments),t}}),t};var f=["a","audio","b","br","button","canvas","datalist","div","em","footer","form","h1","h2","h3","h4","h5","h6","header","hr","i","input","item","label","li","menu","menuitem","meter","nav","noscript","ol","p","pre","progress","script","select","span","strong","table","tbody","td","textarea","tfoot","th","thead","tr","ul","video","canvas"],l=[["append",function(){o(this.val,arguments)}],["link",function(){this.style({cursor:"pointer"}),this.onclick(function(){window.location=url})}],["style",function(){e(this,arguments)}],["class",function(){i(this.val,arguments)}],["attr",function(n,t){elem.setAttribute(n,t)}],["prop",function(n,t){this.val[n]=t}],["clear",function(){for(var n=this.val;n.firstChild;)n.removeChild(n.firstChild)}]],s=["alt","contenteditable","href","id","readonly","src","title","type","placeholder"].map(function(n){return[n,function(n){this.val.setAttribute(n)}]}),d=["checked","disabled","height","selected","value","width"].map(function(n){return[n,function(t){this.val[n]=t}]}),h=["onactivate","onblur","onchange","onclick","ondblclick","ondeactivate","onfocus","onkeydown","onkeyup","onmousedown","onmouseout","onmouseover","onmouseup"].map(function(n){return[n,function(){var t="_priv_"+this.privateID,e=this.events;void 0===e[t]&&(e[t]={}),this[n]=function(n,o){return null===n?delete e[t][o]:(void 0===o&&(o="_priv_"+this.privateID++),e[t][o]=n),this},this.val[n]=function(n){var o=e[t];for(var i in o)o[i](n,this)}}]}),v=[["hover",11,10],["focus",6,1],["active",0,5]].map(function(n){return[n[0],h[n[1]][0],h[n[2]][0]]}),p=h.concat(d,s,l);return u.body=r(function(){return u.elify(a.body).append(arguments)}),f.forEach(function(n){u[n]=r(function(){return u.elify(a.createElement(n)).append(arguments)})}),u.mergeStyle=function(n){function t(e,o){void 0!==e.depends&&e.depends.forEach(function(e){t(n[e],"base")}),v.forEach(function(o){var r=o[0];void 0!==e[r]&&(void 0!==e[r].depends&&e[r].depends.forEach(function(e){t(n[e],r)}),i[r].push(e[r]))}),i[o].push(e)}var e={};for(var o in n){var i={base:[]};v.forEach(function(n){i[n[0]]=[]}),t(n[o],"base"),e[o]=i}return e},u.bind=function(n){Object.keys(u).forEach(function(t){n[t]=u[t]})},u.global=function(){u.bind(c)},void 0!==n&&(u.global(),window.onload=n),u}